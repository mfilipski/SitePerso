(function() {
  var ins_47146346 = document.getElementById('friendly_cache-busting').parentNode;  var iframe_47146346 = document.createElement('iframe');
  iframe_47146346.setAttribute('id', 'friendly_47146346');
  iframe_47146346.setAttribute('allowtransparency', 'true');
  iframe_47146346.setAttribute('scrolling', 'no');
  iframe_47146346.setAttribute('style', 'margin:0; padding:0; width:300px; height:600px; border:0; overflow:hidden; vertical-align:bottom');
  iframe_47146346.setAttribute('sandbox', 'allow-forms allow-popups allow-popups-to-escape-sandbox allow-pointer-lock allow-same-origin allow-scripts allow-top-navigation-by-user-activation');
  ins_47146346.appendChild(iframe_47146346);
  var iframeDocument_47146346 = (iframe_47146346.contentWindow) ? iframe_47146346.contentWindow.document : (iframe_47146346.contentDocument || iframe_47146346.document);
  iframeDocument_47146346.open();
  iframeDocument_47146346.write('<body style="margin:0; padding:0; overflow:hidden"><div style="width:300px; height:600px"><div id=\"friendly_47146346\" data-zid=\"2360\"></div>\r\n\r\n<scr'+'ipt type=\"text/javascript\">\r\n(function() {\r\n  try { window.__cmp = (window.__cmp || window.parent.__cmp); } catch (e) { }\r\n  var wrapperIframe = document.createElement(\"iframe\");\r\n  wrapperIframe.setAttribute(\"id\", \"friendly_47146346_Loader\");\r\n  wrapperIframe.setAttribute(\"allowtransparency\", \"true\");\r\n  wrapperIframe.setAttribute(\"scrolling\", \"no\");\r\n  wrapperIframe.setAttribute(\"style\", \"position: absolute; margin:0; padding:0; width:1px; height:1px; border:0; overflow:hidden; display: none\");\r\n  document.getElementById(\'friendly_47146346\').appendChild(wrapperIframe);\r\n  var wrapperDocument = (wrapperIframe.contentWindow) ? wrapperIframe.contentWindow.document : (wrapperIframe.contentDocument || wrapperIframe.document);\r\n  var wrapperWindow = (wrapperIframe.contentWindow || wrapperIframe.window);\r\n  wrapperDocument.open();\r\n  wrapperDocument.write(\'<scr\'+\'ipt async src=\"https://serving.roimediaconsultants.com/js/prebid-roimedia-4.17.0.js\" type=\"text/javascript\"></scr\'+\'ipt><div id=\"friendly_47146346\"><div id=\"html_47146346\"></div></div>\');\r\n  wrapperDocument.close();\r\n  wrapperWindow.adUnitCode = \'friendly_47146346\';\r\n  wrapperWindow.adUnits = [{\r\n    code: wrapperWindow.adUnitCode,\r\n    mediaTypes: {\r\n      banner: {\r\n        sizes: [[300,600]]\r\n      }\r\n    },\r\n    sizes: [[300,600]],\r\n    bids: [{bidder:\'pubmatic\',params:{publisherId:\'158826\',adSlot:\'cars_300x600\'}},{bidder:\'ix\',params:{siteId:\'616606\',size:[300,600]}},{bidder:\'sovrn\',params:{tagid:\'844955\'}},{bidder:\'rubicon\',params:{accountId:\'17544\',siteId:\'359698\',zoneId:\'1937990\'}},{bidder:\'helloearth\',params:{placementId:\'20837385\'}}]\r\n  }];\r\n  try { wrapperWindow.__cmp = (window.__cmp || window.parent.__cmp); } catch (e) { }\r\n  wrapperWindow.pbjs = wrapperWindow.pbjs || {};\r\n  wrapperWindow.pbjs.que = wrapperWindow.pbjs.que || [];\r\n  wrapperWindow.pbjs.que.push(function() {\r\n    wrapperWindow.pbjs.bidderSettings = {\n\"pubmatic\": { bidCpmAdjustment : function(bidCpm, bid) { return (bidCpm * 1); } },\"ix\": { bidCpmAdjustment : function(bidCpm, bid) { return (bidCpm * 0.95); } },\"sovrn\": { bidCpmAdjustment : function(bidCpm, bid) { return (bidCpm * 1); } },\"rubicon\": { bidCpmAdjustment : function(bidCpm, bid) { return (bidCpm * 0.7); } },\"helloearth\": { bidCpmAdjustment : function(bidCpm, bid) { return (bidCpm * 0.98); } }\n};\nwrapperWindow.pbjs.setConfig({ publisherDomain: \'https://cars.com\', priceGranularity: \'high\', userSync: { syncEnabled: (function() { var allow = true; if (0 > 0) { allow = false; } try { if (sessionStorage) { if (!sessionStorage.getItem(\'PBJS_SYNCED\') || (new Date().getTime() - sessionStorage.getItem(\'PBJS_SYNCED\')) > (10 * 1000)) { sessionStorage.setItem(\'PBJS_SYNCED\', new Date().getTime()); } else { allow = false; } } } catch (e) {} return allow; })(), syncsPerBidder: 1, filterSettings: { iframe: { bidders: \'*\', filter: \'include\' } }, userIds: [{ name: \'pubCommonId\', storage: { type: \'cookie\', name: \'_pubcid\', expires: 365 } }, { name: \'identityLink\', params: { pid: \'13216\' }, storage: { type: \'cookie\', name: \'idl_env\', expires: 30 } }], auctionDelay: 50 } });\r\n    wrapperWindow.pbjs.aliasBidder(\'appnexus\', \'helloearth\');\r\n    wrapperWindow.pbjs.addAdUnits(wrapperWindow.adUnits);\r\n    wrapperWindow.setTimeout(function() { wrapperWindow.initAdserver(); }, 3000);\r\n    wrapperWindow.pbjs.requestBids({\r\n      bidsBackHandler: wrapperWindow.initAdserver\r\n    });\r\n  });\r\n  wrapperWindow.getWinUrl = function(bidResponse) {\r\n    var url = \"https://serving.roimediaconsultants.com/servlet/view/banner/javascript/media?mid=0&cid=2018&pid=12&zid=2360&uuid=a94e5b58b3ab30636f231ecab673bdd0&random=47146346&millis=20210318165627&hb_request={REQUESTID}&hb_bidder={BIDDER}&hb_cpm={CPM}&hb_adid={HBADID}&hb_dealid={DEALID}&hb_size={SIZE}&hb_friendly=friendly_47146346&language=en&resolution=unspecified&txid=81434846&refresh_count=0&rmpid=true&referrer=https%3A%2F%2Fcars.com%2Ffor-sale%2Fsearchresults.action%2F\";\r\n    url = url.replace(\'{REQUESTID}\', \'23680026\');\r\n    url = url.replace(\'{BIDDER}\', bidResponse.bidderCode);\r\n    url = url.replace(\'{CPM}\', bidResponse.cpm);\r\n    url = url.replace(\'{HBADID}\', bidResponse.adId);\r\n    url = url.replace(\'{SIZE}\', bidResponse.size);\r\n    if (\'dealId\' in bidResponse && typeof bidResponse.dealId !== \'undefined\') { url = url.replace(\'{DEALID}\', bidResponse.dealId); }\r\n    return url;\r\n  };\r\n  wrapperWindow.getFailUrl = function(bidCount) {\r\n    var url = \"https://serving.roimediaconsultants.com/servlet/view/banner/javascript/zone?pid=12&zid=2360&fcid=2018&uuid=a94e5b58b3ab30636f231ecab673bdd0&random=47146346&millis=20210318165627&hb_request={REQUESTID}&hb_error={ERRCODE}&friendly=friendly_47146346&language=en&resolution=unspecified&txid=81434846&refresh_count=0&rmpid=true&referrer=https%3A%2F%2Fcars.com%2Ffor-sale%2Fsearchresults.action%2F\";\r\n    url = url.replace(\'{REQUESTID}\', \'23680026\');\r\n    url = url.replace(\'{ERRCODE}\', (bidCount > 0 ? \'decline\' : \'timeout\'));\r\n    return url;\r\n  };\r\n  wrapperWindow.initAdserverCalled = false;\r\n  wrapperWindow.initAdserver = function() {\r\n    if (!wrapperWindow.initAdserverCalled) {\r\n      wrapperWindow.initAdserverCalled = true;\r\n      var bidResponses = wrapperWindow.pbjs.getHighestCpmBids(wrapperWindow.adUnitCode);\r\n      if (bidResponses && bidResponses.length > 0 && (0.01 <= 0.00 || bidResponses[0].cpm >= 0.01)) {\r\n        var bidResponse = bidResponses[0];\r\n        var bidIframe = document.createElement(\"iframe\");\r\n        bidIframe.setAttribute(\"id\", wrapperWindow.adUnitCode + \"_Creative\");\r\n        bidIframe.setAttribute(\"allowtransparency\", \"true\");\r\n        bidIframe.setAttribute(\"scrolling\", \"no\");\r\n        bidIframe.setAttribute(\"style\", \"position: relative; margin:0; padding:0; width:\"+bidResponse.width+\"px; height:\"+bidResponse.height+\"px; border:0; overflow:hidden\");\r\n        bidIframe.setAttribute(\"sandbox\", \"allow-forms allow-popups allow-popups-to-escape-sandbox allow-pointer-lock allow-same-origin allow-scripts allow-top-navigation-by-user-activation\");\r\n        wrapperWindow.parent.document.getElementById(\'friendly_47146346\').appendChild(bidIframe);\r\n        var bidIframeDoc = (bidIframe.contentWindow) ? bidIframe.contentWindow.document : (bidIframe.contentDocument || bidIframe.document);\r\n        bidIframeDoc.open();\r\n        bidIframeDoc.write(\'<scr\'+\'ipt src=\"\'+wrapperWindow.getWinUrl(bidResponse)+\'\" type=\"text/javascript\"></scr\'+\'ipt>\');\r\n        bidIframeDoc.close();\r\n      }\r\n      else {\r\n        var insTag = document.createElement(\'ins\');\r\n        insTag.setAttribute(\"id\", \"friendly_47146346\");\r\n        wrapperWindow.parent.document.getElementById(\'friendly_47146346\').appendChild(insTag);\r\n        var fallbackLoader = document.createElement(\'script\');\r\n        fallbackLoader.type = \'text/javascript\';\r\n        fallbackLoader.async = true;\r\n        fallbackLoader.src = wrapperWindow.getFailUrl((bidResponses && bidResponses.length > 0) ? bidResponses.length : 0);\r\n        var firstScriptTag = wrapperWindow.parent.document.getElementsByTagName(\'script\')[0];\r\n        firstScriptTag.parentNode.insertBefore(fallbackLoader, firstScriptTag);\r\n      }\r\n    }\r\n  };\r\n})();\r\n</scr'+'ipt></div></body>');
    iframeDocument_47146346.close();
  document.Refresh_Page = function() {
    if ('context' in window && 'hidden' in window.context) {
      return !window.context.hidden;
    }
    var getHiddenProp = function() {
      var prefixes = ['webkit','moz','ms','o'];
      if ('hidden' in document) return 'hidden';
      for (var i = 0; i < prefixes.length; i++){
        if ((prefixes[i] + 'Hidden') in document) { return prefixes[i] + 'Hidden'; }
      }
      return null;
    };
    var prop = getHiddenProp();
    return (prop) ? !document[prop] : true;
  };
  var Refresh_47146346_Last = new Date().getTime();
  document.Refresh_Viewable = ('Refresh_Viewable' in document) ? document.Refresh_Viewable : false;
  (function() {
    if ('IntersectionObserver' in window) {
      var io = new IntersectionObserver(function(entries) {
        for (var i = 0; i < entries.length; i++) {
          document.Refresh_Viewable = (document.Refresh_Page() && entries[i].intersectionRatio >= 0.5) ? true : false;
        }
      }, { threshold: [0.5] });
      io.observe(iframe_47146346);
      document.Refresh_IO = io;
    }
  })();
  var Refresh_47146346_Interval = function() {
    return (document.Refresh_Viewable === true) ? 20000 : 20000;
  };
  var Refresh_47146346 = function() {
    if ((new Date().getTime() - Refresh_47146346_Last) < Refresh_47146346_Interval()) { return; }
    clearInterval(Refresh_47146346_Timer);
    Refresh_47146346_Last = new Date().getTime();
    if ('Refresh_IO' in document) { document.Refresh_IO.unobserve(iframe_47146346); }
    iframe_47146346.style.display = 'none';
    var s = document.createElement('script'); s.type = 'text/javascript';
    s.src = 'https://serving.roimediaconsultants.com/servlet/view/banner/javascript/zone?zid=2360&pid=0&fr=20&txid=81434846&frcn=1&frlm=60&friendly=friendly_47146346&language=en&txid=81434846&random=18064933&referrer=https%3A%2F%2Fcars.com%2Ffor-sale%2Fsearchresults.action%2F';
    s.onload = function() { setTimeout(function() { iframe_47146346.parentNode.removeChild(iframe_47146346); iframe_47146346.src = 'about:blank'; }, 1500); };
    ins_47146346.appendChild(s);
};
  var Refresh_47146346_Message = function (event) {
    if (event && event.data && event.data.indexOf && typeof event.data.indexOf === 'function' && event.data === 'Refresh_47146346') { Refresh_47146346(); }
  };
  window.addEventListener('message', Refresh_47146346_Message, false);
  var Refresh_47146346_Timer = setInterval(Refresh_47146346, 1000);
})();
